<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Lab</title>
  <link rel="stylesheet" type="text/css" href="../../lib/css/vu.css">
</head>
<body>
<div>
  <button id="resizeBtn">Resize</button>
  <button id="cropBtn" onclick="crop()">Crop</button>
  <img id="src" style="display: none" alt="" src="./assets/windows_xp_bliss-wide.jpg"/>
  <div style="overflow: scroll; background-color: #aaa; display: flex; justify-content: center; align-items: center; min-height: 300px">
    <canvas id="canvas" style="border: 1px solid red"></canvas>
  </div>
  
</div>
<script type="module">
  import VuCanvas from './modules/vu-canvas.js'
  let vuCanvas = null
  
  let resizeBtn
  let cropBtn
  
  window.onload = function() {
    const image = document.getElementById("src")
    const canvas = document.getElementById('canvas')
    vuCanvas = new VuCanvas(canvas)
    canvas.width  = image.width;
    canvas.height = image.height;
    const context = canvas.getContext("2d");
    context.drawImage(image, 0, 0);

    mount()
  }
  
  function mount() {
    resizeBtn = document.getElementById('resizeBtn')
    resizeBtn.onclick = resize
    
    cropBtn = document.getElementById('cropBtn')
    cropBtn.onclick = crop
  }
  
  export function resize() {
    vuCanvas.resize({ left: true, top: true, right: true, bottom: true })
  }

  export function crop() {
    vuCanvas.crop({ left: 50, top: 50, right: 100, bottom: 100 })
  }
</script>
</body>
</html>
